# Maintainer: zoobzio <zoobzio@users.noreply.github.com>
pkgname=popcorn
pkgver=0.1.0
pkgrel=1
pkgdesc="High-performance CUDA kernels for elementwise tensor operations"
arch=('x86_64')
url="https://github.com/zoobzio/popcorn"
license=('MIT')
depends=('cuda')
makedepends=()
provides=('popcorn')
conflicts=('popcorn-bin' 'popcorn-git')
source=("$pkgname-$pkgver.tar.gz::https://github.com/zoobzio/popcorn/archive/v$pkgver.tar.gz")
sha256sums=('SKIP')

build() {
    cd "$pkgname-$pkgver"
    make fat
}

package() {
    cd "$pkgname-$pkgver"
    install -Dm644 lib/libpopcorn.a "$pkgdir/usr/lib/libpopcorn.a"
    install -Dm644 include/popcorn.h "$pkgdir/usr/include/popcorn.h"
    install -Dm644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}
